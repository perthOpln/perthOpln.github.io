<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Web Financial Calculator</title>
    <!-- Load Tailwind CSS -->
    <script src="https://cdn.tailwindcss.com"></script>
    <!-- Google Fonts - Inter -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700;800&display=swap" rel="stylesheet">
    <style>
        body {
            font-family: 'Inter', sans-serif;
            /* Light gray background to frame the white card */
            background-color: #f7f9fb;
        }
        /* Style for input focus */
        .input-style:focus {
            border-color: #3b82f6; /* Blue 500 */
            box-shadow: 0 0 0 3px rgba(59, 130, 246, 0.5);
        }
    </style>
</head>
<body class="flex items-center justify-center min-h-screen p-4">

    <!-- Calculator Container Card (White Mode) -->
    <div class="bg-white p-8 md:p-10 rounded-xl shadow-2xl max-w-lg w-full border border-gray-100">
        
        <h1 class="text-3xl md:text-4xl font-extrabold text-center mb-8 text-gray-900">
            Financial Calculator
        </h1>

        <!-- CAGR/AAR Section -->
        <h2 class="text-xl font-bold text-gray-800 mb-4 border-b-2 border-blue-100 pb-2">
            Compound & Average Returns (CAGR / AAR)
        </h2>
        
        <div class="space-y-4">
            <!-- Start Balance -->
            <div>
                <label for="startBalance" class="block text-sm font-medium text-gray-700 mb-1">
                    Start Balance ($)
                </label>
                <input type="number" id="startBalance" placeholder="e.g., 10000"
                       class="input-style mt-1 block w-full px-4 py-2 bg-white border border-gray-300 rounded-lg shadow-sm focus:ring-blue-500 transition-colors duration-200">
            </div>

            <!-- End Balance -->
            <div>
                <label for="endBalance" class="block text-sm font-medium text-gray-700 mb-1">
                    End Balance ($)
                </label>
                <input type="number" id="endBalance" placeholder="e.g., 15000"
                       class="input-style mt-1 block w-full px-4 py-2 bg-white border border-gray-300 rounded-lg shadow-sm focus:ring-blue-500 transition-colors duration-200">
            </div>

            <!-- Years -->
            <div>
                <label for="years" class="block text-sm font-medium text-gray-700 mb-1">
                    Years
                </label>
                <input type="number" id="years" placeholder="e.g., 5"
                       class="input-style mt-1 block w-full px-4 py-2 bg-white border border-gray-300 rounded-lg shadow-sm focus:ring-blue-500 transition-colors duration-200">
            </div>
        </div>

        <!-- Error Message (CAGR/AAR) -->
        <div id="errorMessage" class="text-red-600 text-sm mt-3 text-center hidden font-medium"></div>

        <!-- Calculate Button (CAGR/AAR) -->
        <button id="calculateBtn"
                class="w-full mt-6 px-6 py-3 bg-blue-600 text-white font-semibold text-lg rounded-lg shadow-md hover:bg-blue-700 transition-all duration-300 focus:outline-none focus:ring-4 focus:ring-blue-300 focus:ring-offset-2">
            Calculate CAGR & AAR
        </button>

        <!-- Result Section (CAGR/AAR) -->
        <div id="results" class="mt-6 space-y-3">
            <div class="flex justify-between items-center bg-gray-50 p-3 rounded-lg border border-gray-200">
                <span class="text-gray-700 font-medium">Compound Annual Growth Rate (%CAGR)</span>
                <span id="cagrResult" class="text-xl font-extrabold text-green-600">-</span>
            </div>
            <div class="flex justify-between items-center bg-gray-50 p-3 rounded-lg border border-gray-200">
                <span class="text-gray-700 font-medium">Average Annual Return (%AAR)</span>
                <span id="aarResult" class="text-xl font-extrabold text-green-600">-</span>
            </div>
        </div>

        <!-- Horizontal separator -->
        <hr class="my-8 border-t border-gray-200">

        <!-- Future Value Section -->
        <h2 class="text-xl font-bold text-gray-800 mb-4 border-b-2 border-blue-100 pb-2">
            Future Value
        </h2>
        
        <div class="space-y-4">
            <!-- Start Balance (FV) -->
            <div>
                <label for="fvStartBalance" class="block text-sm font-medium text-gray-700 mb-1">
                    Start Balance ($)
                </label>
                <input type="number" id="fvStartBalance" placeholder="e.g., 10000"
                       class="input-style mt-1 block w-full px-4 py-2 bg-white border border-gray-300 rounded-lg shadow-sm focus:ring-blue-500 transition-colors duration-200">
            </div>

            <!-- CAGR (FV) -->
            <div>
                <label for="fvCagr" class="block text-sm font-medium text-gray-700 mb-1">
                    CAGR (%)
                </label>
                <input type="number" id="fvCagr" placeholder="e.g., 7"
                       class="input-style mt-1 block w-full px-4 py-2 bg-white border border-gray-300 rounded-lg shadow-sm focus:ring-blue-500 transition-colors duration-200">
            </div>

            <!-- Years (FV) -->
            <div>
                <label for="fvYears" class="block text-sm font-medium text-gray-700 mb-1">
                    Years
                </label>
                <input type="number" id="fvYears" placeholder="e.g., 10"
                       class="input-style mt-1 block w-full px-4 py-2 bg-white border border-gray-300 rounded-lg shadow-sm focus:ring-blue-500 transition-colors duration-200">
            </div>
        </div>

        <!-- Future Value Error Message -->
        <div id="fvErrorMessage" class="text-red-600 text-sm mt-3 text-center hidden font-medium"></div>

        <!-- Future Value Button -->
        <button id="fvCalculateBtn"
                class="w-full mt-6 px-6 py-3 bg-blue-600 text-white font-semibold text-lg rounded-lg shadow-md hover:bg-blue-700 transition-all duration-300 focus:outline-none focus:ring-4 focus:ring-blue-300 focus:ring-offset-2">
            Calculate Future Value
        </button>

        <!-- Future Value Result Section -->
        <div class="mt-6 space-y-3">
            <div class="flex justify-between items-center bg-gray-50 p-3 rounded-lg border border-gray-200">
                <span class="text-gray-700 font-medium">Future Value ($)</span>
                <span id="fvResult" class="text-xl font-extrabold text-green-600">-</span>
            </div>
        </div>
    </div>

    <script>
        document.addEventListener('DOMContentLoaded', () => {
            // --- CAGR & AAR Logic ---
            const calculateBtn = document.getElementById('calculateBtn');
            const startBalanceInput = document.getElementById('startBalance');
            const endBalanceInput = document.getElementById('endBalance');
            const yearsInput = document.getElementById('years');
            const cagrResult = document.getElementById('cagrResult');
            const aarResult = document.getElementById('aarResult');
            const errorMessage = document.getElementById('errorMessage');

            calculateBtn.addEventListener('click', () => {
                const startBalance = parseFloat(startBalanceInput.value);
                const endBalance = parseFloat(endBalanceInput.value);
                const years = parseFloat(yearsInput.value);

                cagrResult.textContent = '-';
                aarResult.textContent = '-';
                errorMessage.classList.add('hidden');
                errorMessage.textContent = '';

                if (isNaN(startBalance) || isNaN(endBalance) || isNaN(years) || startBalance <= 0 || years <= 0) {
                    errorMessage.textContent = 'Please ensure Start Balance and Years are positive numbers.';
                    errorMessage.classList.remove('hidden');
                    return;
                }

                try {
                    // CAGR: (Ending Value / Starting Value)^(1 / Years) - 1
                    const cagr = (Math.pow(endBalance / startBalance, 1 / years) - 1) * 100;

                    // AAR: ((Ending Value - Starting Value) / Starting Value / Years)
                    const aar = ((endBalance - startBalance) / startBalance / years) * 100;

                    cagrResult.textContent = `${cagr.toFixed(2)}%`;
                    aarResult.textContent = `${aar.toFixed(2)}%`;
                } catch (e) {
                    errorMessage.textContent = 'Calculation error. Check inputs.';
                    errorMessage.classList.remove('hidden');
                }
            });

            // --- Future Value Logic ---
            const fvCalculateBtn = document.getElementById('fvCalculateBtn');
            const fvStartBalanceInput = document.getElementById('fvStartBalance');
            const fvCagrInput = document.getElementById('fvCagr');
            const fvYearsInput = document.getElementById('fvYears');
            const fvResult = document.getElementById('fvResult');
            const fvErrorMessage = document.getElementById('fvErrorMessage');

            fvCalculateBtn.addEventListener('click', () => {
                const startBalance = parseFloat(fvStartBalanceInput.value);
                const cagr = parseFloat(fvCagrInput.value);
                const years = parseFloat(fvYearsInput.value);

                fvResult.textContent = '-';
                fvErrorMessage.classList.add('hidden');
                fvErrorMessage.textContent = '';

                if (isNaN(startBalance) || isNaN(cagr) || isNaN(years) || startBalance < 0 || years < 0) {
                    fvErrorMessage.textContent = 'Please enter valid numbers (Start Balance and Years cannot be negative).';
                    fvErrorMessage.classList.remove('hidden');
                    return;
                }

                try {
                    // FV = P * (1 + r)^n
                    const futureValue = startBalance * Math.pow(1 + cagr / 100, years);
                    fvResult.textContent = `$${futureValue.toFixed(2)}`;
                } catch (e) {
                    fvErrorMessage.textContent = 'Calculation error. Check inputs.';
                    fvErrorMessage.classList.remove('hidden');
                }
            });
        });
    </script>
</body>
</html>
